<style>
    .form-block {
        padding: 10px 0;
        margin-bottom: 15px;
        background-color: #f7f7f7;
    }

    .form-block h3 {
        padding: 10px 10px;
        margin: 0 15px 15px 15px;
        font-size: 14px;
        border-bottom: 1px solid #e2e2e2;
    }
</style>
<form id="edit-form" class="form-horizontal" role="form" data-toggle="validator" method="POST" action="">

    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Title')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-title" class="form-control" name="row[title]" type="text" value="{$row.title|htmlentities}">
        </div>
    </div>
    <div class="form-group">
        <label for="c-user_id" class="control-label col-xs-12 col-sm-2">{:__('User_id')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-user_id" type="text" class="form-control selectpage" data-source="user/user/index" placeholder="发布会员,可为空" data-field="nickname" name="row[user_id]" value="{$row.user_id}"/>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Image')}:</label>
        <div class="col-xs-12 col-sm-8">
            <div class="input-group">
                <input id="c-image" class="form-control" size="50" name="row[image]" type="text" value="{$row.image|htmlentities}">
                <div class="input-group-addon no-border no-padding">
                    <span><button type="button" id="plupload-image" class="btn btn-danger plupload" data-input-id="c-image" data-mimetype="image/gif,image/jpeg,image/png,image/jpg,image/bmp" data-multiple="false" data-preview-id="p-image"><i class="fa fa-upload"></i> {:__('Upload')}</button></span>
                    <span><button type="button" id="fachoose-image" class="btn btn-primary fachoose" data-input-id="c-image" data-mimetype="image/*" data-multiple="false"><i class="fa fa-list"></i> {:__('Choose')}</button></span>
                </div>
                <span class="msg-box n-right" for="c-image"></span>
            </div>
            <ul class="row list-inline plupload-preview" id="p-image"></ul>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Keywords')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-keywords" class="form-control" name="row[keywords]" type="text" value="{$row.keywords|htmlentities}">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Description')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-description" class="form-control" name="row[description]" type="text" value="{$row.description|htmlentities}">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Intro')}:</label>
        <div class="col-xs-12 col-sm-8">
            <textarea id="c-intro" class="form-control" rows="5" name="row[intro]" cols="50">{$row.intro|htmlentities}</textarea>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Content')}:</label>
        <div class="col-xs-12 col-sm-8">
            <textarea id="c-content" class="form-control editor" rows="5" name="row[content]" cols="50">{$row.content|htmlentities}</textarea>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Banner')}:</label>
        <div class="col-xs-12 col-sm-8">
            <div class="input-group">
                <input id="c-banner" class="form-control" size="50" name="row[banner]" type="text" value="{$row.banner|htmlentities}">
                <div class="input-group-addon no-border no-padding">
                    <span><button type="button" id="plupload-banner" class="btn btn-danger plupload" data-input-id="c-banner" data-mimetype="image/gif,image/jpeg,image/png,image/jpg,image/bmp" data-multiple="false" data-preview-id="p-banner"><i class="fa fa-upload"></i> {:__('Upload')}</button></span>
                    <span><button type="button" id="fachoose-banner" class="btn btn-primary fachoose" data-input-id="c-banner" data-mimetype="image/*" data-multiple="false"><i class="fa fa-list"></i> {:__('Choose')}</button></span>
                </div>
                <span class="msg-box n-right" for="c-banner"></span>
            </div>
            <ul class="row list-inline plupload-preview" id="p-banner"></ul>
        </div>
    </div>
    <div class="form-block">
        <h3>投票统计数据</h3>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Players')}:</label>
            <div class="col-xs-12 col-sm-4">
                <div class="input-group-addon no-border no-padding">
                    <input id="c-players" class="form-control" name="row[players]" type="number" value="{$row.players}" disabled>
                    <a href="javascript:" class="btn btn-sm btn-info btn-editdata">修改</a>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Votes')}:</label>
            <div class="col-xs-12 col-sm-4">
                <div class="input-group-addon no-border no-padding">
                    <input id="c-votes" class="form-control" name="row[votes]" type="number" value="{$row.votes}" disabled> <a href="javascript:" class="btn btn-sm btn-info btn-editdata">修改</a>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Voters')}:</label>
            <div class="col-xs-12 col-sm-4">
                <div class="input-group-addon no-border no-padding">
                    <input id="c-voters" class="form-control" name="row[voters]" type="number" value="{$row.voters}" disabled> <a href="javascript:" class="btn btn-sm btn-info btn-editdata">修改</a>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Views')}:</label>
            <div class="col-xs-12 col-sm-4">
                <div class="input-group-addon no-border no-padding">
                    <input id="c-views" class="form-control" name="row[views]" type="number" value="{$row.views}" disabled> <a href="javascript:" class="btn btn-sm btn-info btn-editdata">修改</a>
                </div>
            </div>
        </div>
    </div>
    <div class="form-block">
        <h3>投票限制设定</h3>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Maxvoteplayers')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-maxvoteplayers" class="form-control" data-rule="required; morethan(c-pervoteplayers)" name="row[maxvoteplayers]" type="number" value="{$row.maxvoteplayers}" data-tip="最大可投选手数,0表示不限制">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Pervoteplayers')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-pervoteplayers" class="form-control" data-rule="required; lessthan(c-maxvoteplayers)" name="row[pervoteplayers]" type="number" value="{$row.pervoteplayers}" data-tip="每天可投选手数,0表示不限制">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Maxvotenums')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-maxvotenums" class="form-control" data-rule="required; morethan(c-pervotenums)" name="row[maxvotenums]" type="number" value="{$row.maxvotenums}" data-tip="最大可投票的次数,0表示不限制">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Pervotenums')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-pervotenums" class="form-control" data-rule="required; lessthan(c-maxvotenums)" name="row[pervotenums]" type="number" value="{$row.pervotenums}" data-tip="每天可投票的次数,0表示不限制">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Maxvotelimit')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-maxvotelimit" class="form-control" data-rule="required; morethan(c-pervotelimit)" name="row[maxvotelimit]" type="number" value="{$row.maxvotelimit}" data-tip="最大可为同一选手投票数,0表示不限制">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Pervotelimit')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-pervotelimit" class="form-control" data-rule="required; lessthan(c-maxvotelimit)" name="row[pervotelimit]" type="number" value="{$row.pervotelimit}" data-tip="每天可为同一选手投票数,0表示不限制">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Maxcatevotenums')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-maxcatevotenums" class="form-control" data-rule="required; morethan(c-percatevotenums)" name="row[maxcatevotenums]" type="number" value="{$row.maxcatevotenums}" data-tip="同一分类最大可投票的次数,0表示不限制">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Percatevotenums')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-percatevotenums" class="form-control" data-rule="required; lessthan(c-maxcatevotenums)" name="row[percatevotenums]" type="number" value="{$row.percatevotenums}" data-tip="同一分类每天可投票的次数,0表示不限制">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Maxcatevoteplayers')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-maxcatevoteplayers" class="form-control" data-rule="required; lessthan(c-maxvoteplayers)" name="row[maxcatevoteplayers]" type="number" value="{$row.maxcatevoteplayers}" data-tip="同一分类最大可投选手数,0表示不限制">
            </div>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Pagesize')}:</label>
        <div class="col-xs-12 col-sm-4">
            <input id="c-pagesize" data-rule="required" class="form-control" name="row[pagesize]" type="number" value="{$row.pagesize}" data-tip="为0表示一页显示全部">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Limitarea')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-limitarea" class="form-control" name="row[limitarea]" type="hidden" value="{$row.limitarea}">
            <div class="city-select" id="mcs"></div>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Needlogin')}:</label>
        <div class="col-xs-12 col-sm-8">
            {:Form::radios('row[needlogin]',[1=>__('Yes'), 0=>__('No')],$row['needlogin'])}
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Onlywechat')}:</label>
        <div class="col-xs-12 col-sm-8">
            {:Form::radios('row[onlywechat]',[1=>__('Yes'), 0=>__('No')],$row['onlywechat'])}
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Diyname')}:</label>
        <div class="col-xs-12 col-sm-4">
            <input id="c-diyname" data-rule="required; diyname" data-id="{$row.id}" class="form-control" name="row[diyname]" type="text" value="{$row.diyname}">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Playername')}:</label>
        <div class="col-xs-12 col-sm-4">
            <input id="c-playername" class="form-control" name="row[playername]" type="text" value="{$row.playername|htmlentities}">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Subjecttpl')}:</label>
        <div class="col-xs-12 col-sm-4">
            <input id="c-subjecttpl" class="form-control selectpage" data-source="vote/subject/get_template_list" data-field="name" data-primary-key="name" data-params='{"type":"subject"}' name="row[subjecttpl]" type="text" value="{$row.subjecttpl}">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Playertpl')}:</label>
        <div class="col-xs-12 col-sm-4">
            <input id="c-playertpl" class="form-control selectpage" data-source="vote/subject/get_template_list" data-field="name" data-primary-key="name" data-params='{"type":"player"}' name="row[playertpl]" type="text" value="{$row.playertpl}">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Ranktpl')}:</label>
        <div class="col-xs-12 col-sm-4">
            <input id="c-ranktpl" class="form-control selectpage" data-source="vote/subject/get_template_list" data-field="name" data-primary-key="name" data-params='{"type":"rank"}' name="row[ranktpl]" type="text" value="{$row.ranktpl}">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Applytpl')}:</label>
        <div class="col-xs-12 col-sm-4">
            <input id="c-applytpl" class="form-control selectpage" data-source="vote/subject/get_template_list" data-field="name" data-primary-key="name" data-params='{"type":"apply"}' name="row[applytpl]" type="text" value="{$row.applytpl}">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Isapply')}:</label>
        <div class="col-xs-12 col-sm-8">
            {:Form::radios('row[isapply]',[1=>__('Yes'), 0=>__('No')],$row['isapply'])}
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Iscomment')}:</label>
        <div class="col-xs-12 col-sm-8">
            {:Form::radios('row[iscomment]',[1=>__('Yes'), 0=>__('No')],$row['iscomment'])}
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Begintime')}:</label>
        <div class="col-xs-12 col-sm-4">
            <input id="c-begintime" class="form-control datetimepicker" data-date-format="YYYY-MM-DD HH:mm:ss" data-use-current="true" name="row[begintime]" type="text" value="{:$row.begintime?datetime($row.begintime):''}">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Endtime')}:</label>
        <div class="col-xs-12 col-sm-4">
            <input id="c-endtime" class="form-control datetimepicker" data-date-format="YYYY-MM-DD HH:mm:ss" data-use-current="true" name="row[endtime]" type="text" value="{:$row.endtime?datetime($row.endtime):''}">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Memo')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-memo" class="form-control" name="row[memo]" type="text" value="{$row.memo|htmlentities|default=''}">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Status')}:</label>
        <div class="col-xs-12 col-sm-8">

            <div class="radio">
                {foreach name="statusList" item="vo"}
                <label for="row[status]-{$key}"><input id="row[status]-{$key}" name="row[status]" type="radio" value="{$key}" {in name="key" value="$row.status" }checked{/in} /> {$vo}</label>
                {/foreach}
            </div>

        </div>
    </div>
    <div class="form-group layer-footer">
        <label class="control-label col-xs-12 col-sm-2"></label>
        <div class="col-xs-12 col-sm-8">
            <button type="submit" class="btn btn-success btn-embossed disabled">{:__('OK')}</button>
            <button type="reset" class="btn btn-default btn-embossed">{:__('Reset')}</button>
        </div>
    </div>
</form>
